<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login - FitZone Gym</title>
        <link rel="stylesheet" href="css/style.css">
            <style>
                .btn, .btn-submit {
                    background: #00b586;
                    color: #fff;
                    border: none;
                    border-radius: 8px;
                    padding: 8px 18px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: background 0.2s, box-shadow 0.2s;
                    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
                }
                .btn:hover, .btn-submit:hover {
                    background: #009e7f;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.12);
                }
                input[type="email"], input[type="password"] {
                    border-radius: 6px;
                    border: 1px solid #ccc;
                    padding: 8px;
                    margin-bottom: 8px;
                    width: 100%;
                    box-sizing: border-box;
                    transition: border 0.2s;
                }
                input:focus {
                    border: 1.5px solid #00b586;
                    outline: none;
                }
                .strength-meter {
                    font-weight: bold;
                    margin-bottom: 8px;
                }
                .section-divider {
                    height: 4px;
                    background: linear-gradient(90deg,#00b586 40%,#fff 100%);
                    border-radius: 2px;
                    margin: 12px 0 18px 0;
                    width: 80px;
                }
            </style>
    <style>
        .strength-meter {
            margin-top: 5px;
            font-weight: bold;
        }
        .btn-submit {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
    <script>
        function getPasswordStrength(password) {
            let score = 0;
            if (password.length >= 6) score++;
            if (/[A-Z]/.test(password)) score++;
            if (/[0-9]/.test(password)) score++;
            if (/[^A-Za-z0-9]/.test(password)) score++;
            if (score >= 4) return "Strong";
            if (score >= 2) return "Medium";
            return "Weak";
        }
        document.addEventListener('DOMContentLoaded', function () {
        const emailField = document.getElementById('email');
        const passwordField = document.getElementById('password');
            const strengthMeter = document.getElementById('strengthMeter');
            passwordField.addEventListener('input', function () {
                const strength = getPasswordStrength(passwordField.value);
                strengthMeter.textContent = "Strength: " + strength;
                if (strength === "Strong") {
                    strengthMeter.style.color = "green";
                } else if (strength === "Medium") {
                    strengthMeter.style.color = "orange";
                } else {
                    strengthMeter.style.color = "red";
                }
            });
            const form = document.querySelector('form');
            if (form) {
                form.addEventListener('submit', function (e) {
                    e.preventDefault();
                    const email = emailField.value.trim();
                    const password = passwordField.value;
                    if (!/^\S+@\S+\.\S+$/.test(email)) {
                        alert('Enter a valid email');
                        return;
                    }
                    fetch('php/login.php', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email, password })
                    }).then(r => r.json()).then(data => {
                        if (data.success) {
                            alert('Login successful');
                            window.location.href = 'index.html';
                        } else {
                            alert('Login failed: ' + (data.error || 'Invalid credentials'));
                        }
                    }).catch(err => {
                        console.error(err);
                        alert('Server error');
                    });
                });
            }
        });
    </script>
</head>
<body>

<nav class="navbar">
  <div class="nav-left">
    <a href="index.html" class="logo">FitZone</a>
  </div>
  <div class="nav-center">
    <a href="index.html">Home</a>
    <a href="aboutus.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="faq.html">FAQ</a>
    <a href="gallery.html">Gallery</a>
    <a href="trainers.html">Trainers</a>
    <a href="membership.html">Membership</a>
  </div>
  <div class="nav-right">
    <?php if(isset($_SESSION['user'])): ?>
      <a href="php/dashboard.php">Dashboard</a>
      <?php if($_SESSION['role'] === 'admin'): ?>
        <a href="php/admin_dashboard.php">Admin</a>
      <?php endif; ?>
      <a href="php/logout.php" class="btn-logout">Logout</a>
    <?php else: ?>
      <a href="login.html" class="btn-login">Login</a>
      <a href="newmember.html" class="btn-register">Register</a>
    <?php endif; ?>
  </div>
</nav>

    <div class="top-bar">
        <h1><span class="fitzone-logo">FitZone</span></h1>
        <div class="auth-buttons">
            <a href="login.html" class="btn">Login</a>
            <a href="newmember.html" class="btn">Register</a>
        </div>
    </div>
    <button class="menu-toggle">☰</button>    


    <div class="login-container" style="max-width:400px;margin:32px auto;padding:32px 24px;background:#fff;border-radius:14px;box-shadow:0 4px 24px rgba(0,0,0,0.12);">
        <h2 style="text-align:center;">🔐 Login to FitZone Gym 🔐</h2>
        <div class="section-divider" style="margin:0 auto 18px auto;"></div>
        <form method="post" action="php/login.php">
            <input type="email" id="email" name="email" placeholder="Email" required>
            <input type="password" id="password" name="password" placeholder="Password" required>
            <div id="strengthMeter" class="strength-meter">Strength: </div>
            <button type="submit" class="btn-submit" style="width:100%;margin-top:12px;">Login</button>
        </form>
        <div class="form-footer" style="text-align:center;margin-top:18px;">
            Don't have an account? <a href="newmember.html">Register here</a>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 FitZone Gym. All rights reserved.</p>
    </footer>
    <script src="js/ui_interactions.js"></script>
</body>
</html>

